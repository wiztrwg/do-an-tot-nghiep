{"ast":null,"code":"var _jsxFileName = \"D:\\\\Do_An_Tot_Nghiep\\\\my-app\\\\src\\\\components\\\\page\\\\Admin\\\\Admin.js\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Admin.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = process.env.REACT_APP_API || \"http://localhost:5000\";\nconst parseJSONSafe = async res => {\n  const text = await res.text();\n  try {\n    return JSON.parse(text);\n  } catch (_) {\n    return {\n      error: text || \"Response không phải JSON\"\n    };\n  }\n};\nconst emptyProduct = {\n  id: null,\n  name: \"\",\n  price: \"\",\n  badge: \"\",\n  impact: \"\",\n  description: \"\",\n  tags: \"\",\n  imageFiles: []\n};\nfunction Admin() {\n  _s();\n  const navigate = useNavigate();\n  const token = useMemo(() => localStorage.getItem(\"token\"), []);\n  const user = useMemo(() => JSON.parse(localStorage.getItem(\"user\") || \"{}\"), []);\n  const isAdmin = token && user.role === \"admin\";\n  const [activeTab, setActiveTab] = useState(\"blog\");\n  const [pendingBlogs, setPendingBlogs] = useState([]);\n  const [approvedCount, setApprovedCount] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [notice, setNotice] = useState(\"\");\n  const [actionKey, setActionKey] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [unauthorized, setUnauthorized] = useState(false);\n  const [products, setProducts] = useState([]);\n  const [productLoading, setProductLoading] = useState(false);\n  const [productNotice, setProductNotice] = useState(\"\");\n  const [productError, setProductError] = useState(\"\");\n  const [productAction, setProductAction] = useState(\"\");\n  const [productForm, setProductForm] = useState(emptyProduct);\n  const loadData = useCallback(async () => {\n    if (!isAdmin) return;\n    setLoading(true);\n    setError(\"\");\n    setNotice(\"\");\n    try {\n      const pendingPromise = fetch(`${API_BASE}/api/blog/admin/pending`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const approvedPromise = fetch(`${API_BASE}/api/blog`);\n      const [pendingRes, approvedRes] = await Promise.all([pendingPromise, approvedPromise]);\n      if (pendingRes.status === 401 || pendingRes.status === 403) {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"user\");\n        navigate(\"/login\");\n        return;\n      }\n      const pendingData = await pendingRes.json();\n      const approvedData = await approvedRes.json();\n      setPendingBlogs(Array.isArray(pendingData) ? pendingData : []);\n      setApprovedCount(Array.isArray(approvedData) ? approvedData.length : 0);\n    } catch (err) {\n      console.error(\"Load admin data error:\", err);\n      setError(\"Không thể tải dữ liệu, hãy thử lại.\");\n    } finally {\n      setLoading(false);\n    }\n  }, [isAdmin, navigate, token]);\n  const loadProducts = useCallback(async () => {\n    if (!isAdmin) return;\n    setProductLoading(true);\n    setProductError(\"\");\n    setProductNotice(\"\");\n    try {\n      const res = await fetch(`${API_BASE}/api/products/admin`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (res.status === 401 || res.status === 403) {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"user\");\n        navigate(\"/login\");\n        return;\n      }\n      const data = await parseJSONSafe(res);\n      const items = Array.isArray(data.items) ? data.items : [];\n      const normalized = items.map(p => {\n        const normalizeUrl = url => url && !url.startsWith(\"http\") ? `${API_BASE}${url}` : url;\n        const images = Array.isArray(p.images) ? p.images.map(u => normalizeUrl(u)) : [];\n        return {\n          ...p,\n          image: normalizeUrl(p.image),\n          images\n        };\n      });\n      setProducts(normalized);\n    } catch (err) {\n      console.error(\"Load products error:\", err);\n      setProductError(\"Không thể tải danh sách sản phẩm.\");\n    } finally {\n      setProductLoading(false);\n    }\n  }, [isAdmin, navigate, token]);\n  useEffect(() => {\n    if (!token) {\n      navigate(\"/login\");\n      return;\n    }\n    if (!isAdmin) {\n      setUnauthorized(true);\n      setLoading(false);\n      return;\n    }\n    loadData();\n  }, [isAdmin, loadData, navigate, token]);\n  useEffect(() => {\n    if (activeTab === \"products\" && isAdmin) {\n      loadProducts();\n    }\n  }, [activeTab, isAdmin, loadProducts]);\n  const handleUpdateStatus = async (blogId, status) => {\n    if (!isAdmin) return;\n    setActionKey(`${blogId}-${status}`);\n    setError(\"\");\n    setNotice(\"\");\n    try {\n      const res = await fetch(`${API_BASE}/api/blog/${blogId}/status`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          status\n        })\n      });\n      const data = await res.json();\n      if (!res.ok) {\n        throw new Error(data.error || \"Cập nhật thất bại\");\n      }\n      setPendingBlogs(prev => prev.filter(b => b.id !== blogId));\n      if (status === \"approved\") {\n        setApprovedCount(count => count + 1);\n        setNotice(\"Đã duyệt bài viết thành công.\");\n      } else if (status === \"rejected\") {\n        setNotice(\"Đã từ chối bài viết.\");\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setActionKey(\"\");\n    }\n  };\n  const filteredBlogs = useMemo(() => {\n    const keyword = search.trim().toLowerCase();\n    if (!keyword) return pendingBlogs;\n    return pendingBlogs.filter(b => {\n      var _b$title, _b$author;\n      return ((_b$title = b.title) === null || _b$title === void 0 ? void 0 : _b$title.toLowerCase().includes(keyword)) || ((_b$author = b.author) === null || _b$author === void 0 ? void 0 : _b$author.toLowerCase().includes(keyword));\n    });\n  }, [pendingBlogs, search]);\n  const renderSkeleton = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-card skeleton\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skeleton-line wide\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skeleton-line\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"skeleton-line short\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n  const resetProductForm = () => {\n    setProductForm(emptyProduct);\n  };\n  const handleProductSubmit = async e => {\n    e.preventDefault();\n    if (!isAdmin) return;\n    setProductError(\"\");\n    setProductNotice(\"\");\n    const {\n      id,\n      name,\n      price,\n      badge,\n      impact,\n      description,\n      tags,\n      imageFiles\n    } = productForm;\n    if (!name || !price) {\n      setProductError(\"Vui lòng nhập tên và giá sản phẩm.\");\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"price\", price);\n    formData.append(\"badge\", badge);\n    formData.append(\"impact\", impact);\n    formData.append(\"description\", description);\n    formData.append(\"tags\", tags);\n    if (imageFiles && imageFiles.length) {\n      imageFiles.forEach(file => formData.append(\"images\", file));\n    }\n    const isEdit = Boolean(id);\n    const url = isEdit ? `${API_BASE}/api/products/${id}` : `${API_BASE}/api/products`;\n    const method = isEdit ? \"PUT\" : \"POST\";\n    setProductAction(isEdit ? `edit-${id}` : \"create\");\n    try {\n      const res = await fetch(url, {\n        method,\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        body: formData\n      });\n      const data = await parseJSONSafe(res);\n      if (!res.ok) {\n        throw new Error(data.error || \"Thao tác thất bại\");\n      }\n      await loadProducts();\n      resetProductForm();\n      setProductNotice(isEdit ? \"Đã cập nhật sản phẩm.\" : \"Đã tạo sản phẩm.\");\n    } catch (err) {\n      setProductError(err.message);\n    } finally {\n      setProductAction(\"\");\n    }\n  };\n  const handleProductEdit = product => {\n    setProductForm({\n      id: product.id,\n      name: product.name || \"\",\n      price: product.price || \"\",\n      badge: product.badge || \"\",\n      impact: product.impact || \"\",\n      description: product.description || \"\",\n      tags: product.tags || \"\",\n      imageFiles: []\n    });\n    setProductNotice(\"\");\n    setProductError(\"\");\n  };\n  const handleProductDelete = async id => {\n    if (!isAdmin) return;\n    setProductAction(`delete-${id}`);\n    setProductError(\"\");\n    setProductNotice(\"\");\n    try {\n      const res = await fetch(`${API_BASE}/api/products/${id}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await parseJSONSafe(res);\n      if (!res.ok) {\n        throw new Error(data.error || \"Xóa thất bại\");\n      }\n      await loadProducts();\n      setProductNotice(\"Đã ẩn sản phẩm.\");\n    } catch (err) {\n      setProductError(err.message);\n    } finally {\n      setProductAction(\"\");\n    }\n  };\n  if (unauthorized) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-empty\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"B\\u1EA1n kh\\xF4ng c\\xF3 quy\\u1EC1n truy c\\u1EADp trang qu\\u1EA3n tr\\u1ECB.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"admin-btn ghost\",\n          onClick: () => navigate(\"/\"),\n          children: \"V\\u1EC1 trang ch\\u1EE7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"admin-hero\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-pill\",\n          children: \"B\\u1EA3ng \\u0111i\\u1EC1u khi\\u1EC3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Qu\\u1EA3n tr\\u1ECB n\\u1ED9i dung\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"admin-desc\",\n          children: \"Duy\\u1EC7t b\\xE0i vi\\u1EBFt t\\u1EEB c\\u1ED9ng \\u0111\\u1ED3ng, theo d\\xF5i ti\\u1EBFn \\u0111\\u1ED9 xu\\u1EA5t b\\u1EA3n v\\xE0 gi\\u1EEF ch\\u1EA5t l\\u01B0\\u1EE3ng n\\u1ED9i dung lu\\xF4n xanh.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-hero-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"admin-btn primary\",\n            onClick: () => navigate(\"/blog/create\"),\n            children: \"+ T\\u1EA1o b\\xE0i m\\u1EDBi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"admin-btn ghost\",\n            onClick: loadData,\n            disabled: loading,\n            children: \"\\u27F3 T\\u1EA3i l\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-tabs\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab-btn ${activeTab === \"blog\" ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(\"blog\"),\n            children: \"B\\xE0i vi\\u1EBFt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `tab-btn ${activeTab === \"products\" ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(\"products\"),\n            children: \"S\\u1EA3n ph\\u1EA9m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-hero-metrics\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metric-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Ch\\u1EDD duy\\u1EC7t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: pendingBlogs.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"B\\xE0i t\\u1EEB c\\u1ED9ng \\u0111\\u1ED3ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metric-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0110\\xE3 xu\\u1EA5t b\\u1EA3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: approvedCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"B\\xE0i hi\\u1EC3n th\\u1ECB c\\xF4ng khai\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metric-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Quy\\u1EC1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: user.role || \"admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this), activeTab === \"blog\" && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"admin-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-section-head\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"admin-pill muted\",\n            children: \"Moderation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"B\\xE0i vi\\u1EBFt ch\\u1EDD duy\\u1EC7t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"admin-desc muted\",\n            children: \"Ki\\u1EC3m tra nhanh ti\\xEAu \\u0111\\u1EC1, ng\\u01B0\\u1EDDi g\\u1EEDi v\\xE0 c\\u1EADp nh\\u1EADt tr\\u1EA1ng th\\xE1i ch\\u1EC9 v\\u1EDBi m\\u1ED9t nh\\u1EA5p.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"T\\xECm theo ti\\xEAu \\u0111\\u1EC1 ho\\u1EB7c t\\xE1c gi\\u1EA3...\",\n            value: search,\n            onChange: e => setSearch(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-alert error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 21\n      }, this), notice && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-alert success\",\n        children: notice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 22\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-grid\",\n        children: Array.from({\n          length: 3\n        }).map((_, idx) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: renderSkeleton()\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 13\n      }, this) : filteredBlogs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-empty\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Hi\\u1EC7n kh\\xF4ng c\\xF3 b\\xE0i n\\xE0o ch\\u1EDD duy\\u1EC7t.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"admin-btn ghost\",\n          onClick: loadData,\n          children: \"T\\u1EA3i l\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-grid\",\n        children: filteredBlogs.map(blog => {\n          const createdAt = blog.createdAt ? new Date(blog.createdAt) : null;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-card-head\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"admin-meta\",\n                  children: [\"#\", blog.id, \" \\u2022 \", blog.author || \"Ẩn danh\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: blog.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"admin-badge\",\n                children: \"Ch\\u1EDD duy\\u1EC7t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"admin-snippet\",\n              children: [(blog.content || \"\").slice(0, 180), (blog.content || \"\").length > 180 ? \"...\" : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-card-foot\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"admin-meta\",\n                children: createdAt ? `${createdAt.toLocaleDateString(\"vi-VN\")} • ${createdAt.toLocaleTimeString(\"vi-VN\")}` : \"Không rõ thời gian\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"admin-card-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"admin-btn ghost\",\n                  onClick: () => handleUpdateStatus(blog.id, \"rejected\"),\n                  disabled: actionKey === `${blog.id}-rejected`,\n                  children: actionKey === `${blog.id}-rejected` ? \"Đang từ chối...\" : \"Từ chối\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"admin-btn primary\",\n                  onClick: () => handleUpdateStatus(blog.id, \"approved\"),\n                  disabled: actionKey === `${blog.id}-approved`,\n                  children: actionKey === `${blog.id}-approved` ? \"Đang duyệt...\" : \"Duyệt bài\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 21\n            }, this)]\n          }, blog.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 19\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 9\n    }, this), activeTab === \"products\" && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"admin-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-section-head\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"admin-pill muted\",\n            children: \"Gian h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Qu\\u1EA3n l\\xFD s\\u1EA3n ph\\u1EA9m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"admin-desc muted\",\n            children: \"Th\\xEAm m\\u1EDBi, ch\\u1EC9nh s\\u1EEDa ho\\u1EB7c \\u1EA9n s\\u1EA3n ph\\u1EA9m \\u0111ang b\\xE1n trong trang Gian h\\xE0ng xanh.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"admin-btn ghost\",\n            onClick: loadProducts,\n            disabled: productLoading,\n            children: \"\\u27F3 T\\u1EA3i danh s\\xE1ch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"admin-btn ghost\",\n            onClick: resetProductForm,\n            children: \"+ S\\u1EA3n ph\\u1EA9m m\\u1EDBi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 11\n      }, this), productError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-alert error\",\n        children: productError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 13\n      }, this), productNotice && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-alert success\",\n        children: productNotice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-admin-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-list\",\n          children: productLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-empty\",\n            children: \"\\u0110ang t\\u1EA3i s\\u1EA3n ph\\u1EA9m...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 17\n          }, this) : products.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"admin-empty\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Ch\\u01B0a c\\xF3 s\\u1EA3n ph\\u1EA9m n\\xE0o.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 17\n          }, this) : products.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-card-admin\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-card-head\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"admin-meta\",\n                  children: [\"#\", p.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: p.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"admin-snippet\",\n                  children: p.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 21\n              }, this), p.image && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: p.image,\n                alt: p.name,\n                className: \"product-thumb-admin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-meta-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"pill\",\n                children: p.badge\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"pill strong\",\n                children: p.impact\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"price\",\n                children: [p.price, \" \\u0111\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-card-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin-btn ghost\",\n                onClick: () => handleProductEdit(p),\n                children: \"S\\u1EEDa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"admin-btn primary\",\n                onClick: () => handleProductDelete(p.id),\n                disabled: productAction === `delete-${p.id}`,\n                children: productAction === `delete-${p.id}` ? \"Đang ẩn...\" : \"Ẩn sản phẩm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 21\n            }, this)]\n          }, p.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-form-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: productForm.id ? \"Sửa sản phẩm\" : \"Thêm sản phẩm mới\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"product-form\",\n            onSubmit: handleProductSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"T\\xEAn s\\u1EA3n ph\\u1EA9m\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: productForm.name,\n                onChange: e => setProductForm(prev => ({\n                  ...prev,\n                  name: e.target.value\n                })),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Gi\\xE1 (\\u0111)\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: productForm.price,\n                onChange: e => setProductForm(prev => ({\n                  ...prev,\n                  price: e.target.value\n                })),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Badge / Ch\\u1EA5t li\\u1EC7u\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: productForm.badge,\n                onChange: e => setProductForm(prev => ({\n                  ...prev,\n                  badge: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 593,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"T\\xE1c \\u0111\\u1ED9ng m\\xF4i tr\\u01B0\\u1EDDng\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: productForm.impact,\n                onChange: e => setProductForm(prev => ({\n                  ...prev,\n                  impact: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"M\\xF4 t\\u1EA3\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n                rows: \"3\",\n                value: productForm.description,\n                onChange: e => setProductForm(prev => ({\n                  ...prev,\n                  description: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Tags (ph\\xE2n t\\xE1ch b\\u1EB1ng d\\u1EA5u ph\\u1EA9y)\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: productForm.tags,\n                onChange: e => setProductForm(prev => ({\n                  ...prev,\n                  tags: e.target.value\n                })),\n                placeholder: \"reuse, home, eco\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"\\u1EA2nh s\\u1EA3n ph\\u1EA9m\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"image/*\",\n                multiple: true,\n                onChange: e => setProductForm(prev => ({\n                  ...prev,\n                  imageFiles: e.target.files ? Array.from(e.target.files) : []\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 646,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-card-actions form-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"admin-btn ghost\",\n                onClick: resetProductForm,\n                children: \"L\\xE0m m\\u1EDBi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 662,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"admin-btn primary\",\n                disabled: productAction === \"create\" || productAction === `edit-${productForm.id}`,\n                children: productAction ? \"Đang lưu...\" : productForm.id ? \"Cập nhật\" : \"Thêm mới\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 322,\n    columnNumber: 5\n  }, this);\n}\n_s(Admin, \"kl6qJAdeqlTsl6jzPl+DYpU9hl0=\", false, function () {\n  return [useNavigate];\n});\n_c = Admin;\nexport default Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","useNavigate","jsxDEV","_jsxDEV","API_BASE","process","env","REACT_APP_API","parseJSONSafe","res","text","JSON","parse","_","error","emptyProduct","id","name","price","badge","impact","description","tags","imageFiles","Admin","_s","navigate","token","localStorage","getItem","user","isAdmin","role","activeTab","setActiveTab","pendingBlogs","setPendingBlogs","approvedCount","setApprovedCount","loading","setLoading","setError","notice","setNotice","actionKey","setActionKey","search","setSearch","unauthorized","setUnauthorized","products","setProducts","productLoading","setProductLoading","productNotice","setProductNotice","productError","setProductError","productAction","setProductAction","productForm","setProductForm","loadData","pendingPromise","fetch","headers","Authorization","approvedPromise","pendingRes","approvedRes","Promise","all","status","removeItem","pendingData","json","approvedData","Array","isArray","length","err","console","loadProducts","data","items","normalized","map","p","normalizeUrl","url","startsWith","images","u","image","handleUpdateStatus","blogId","method","body","stringify","ok","Error","prev","filter","b","count","message","filteredBlogs","keyword","trim","toLowerCase","_b$title","_b$author","title","includes","author","renderSkeleton","className","children","fileName","_jsxFileName","lineNumber","columnNumber","resetProductForm","handleProductSubmit","e","preventDefault","formData","FormData","append","forEach","file","isEdit","Boolean","handleProductEdit","product","handleProductDelete","onClick","disabled","email","type","placeholder","value","onChange","target","from","idx","Fragment","blog","createdAt","Date","content","slice","toLocaleDateString","toLocaleTimeString","src","alt","onSubmit","required","rows","accept","multiple","files","_c","$RefreshReg$"],"sources":["D:/Do_An_Tot_Nghiep/my-app/src/components/page/Admin/Admin.js"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Admin.css\";\n\nconst API_BASE = process.env.REACT_APP_API || \"http://localhost:5000\";\nconst parseJSONSafe = async (res) => {\n  const text = await res.text();\n  try {\n    return JSON.parse(text);\n  } catch (_) {\n    return { error: text || \"Response không phải JSON\" };\n  }\n};\n\nconst emptyProduct = {\n  id: null,\n  name: \"\",\n  price: \"\",\n  badge: \"\",\n  impact: \"\",\n  description: \"\",\n  tags: \"\",\n  imageFiles: [],\n};\n\nfunction Admin() {\n  const navigate = useNavigate();\n\n  const token = useMemo(() => localStorage.getItem(\"token\"), []);\n  const user = useMemo(\n    () => JSON.parse(localStorage.getItem(\"user\") || \"{}\"),\n    []\n  );\n  const isAdmin = token && user.role === \"admin\";\n\n  const [activeTab, setActiveTab] = useState(\"blog\");\n\n  const [pendingBlogs, setPendingBlogs] = useState([]);\n  const [approvedCount, setApprovedCount] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [notice, setNotice] = useState(\"\");\n  const [actionKey, setActionKey] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [unauthorized, setUnauthorized] = useState(false);\n\n  const [products, setProducts] = useState([]);\n  const [productLoading, setProductLoading] = useState(false);\n  const [productNotice, setProductNotice] = useState(\"\");\n  const [productError, setProductError] = useState(\"\");\n  const [productAction, setProductAction] = useState(\"\");\n  const [productForm, setProductForm] = useState(emptyProduct);\n\n  const loadData = useCallback(async () => {\n    if (!isAdmin) return;\n\n    setLoading(true);\n    setError(\"\");\n    setNotice(\"\");\n\n    try {\n      const pendingPromise = fetch(`${API_BASE}/api/blog/admin/pending`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      const approvedPromise = fetch(`${API_BASE}/api/blog`);\n\n      const [pendingRes, approvedRes] = await Promise.all([\n        pendingPromise,\n        approvedPromise,\n      ]);\n\n      if (pendingRes.status === 401 || pendingRes.status === 403) {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"user\");\n        navigate(\"/login\");\n        return;\n      }\n\n      const pendingData = await pendingRes.json();\n      const approvedData = await approvedRes.json();\n\n      setPendingBlogs(Array.isArray(pendingData) ? pendingData : []);\n      setApprovedCount(Array.isArray(approvedData) ? approvedData.length : 0);\n    } catch (err) {\n      console.error(\"Load admin data error:\", err);\n      setError(\"Không thể tải dữ liệu, hãy thử lại.\");\n    } finally {\n      setLoading(false);\n    }\n  }, [isAdmin, navigate, token]);\n\n  const loadProducts = useCallback(async () => {\n    if (!isAdmin) return;\n\n    setProductLoading(true);\n    setProductError(\"\");\n    setProductNotice(\"\");\n\n    try {\n      const res = await fetch(`${API_BASE}/api/products/admin`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      if (res.status === 401 || res.status === 403) {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"user\");\n        navigate(\"/login\");\n        return;\n      }\n\n      const data = await parseJSONSafe(res);\n      const items = Array.isArray(data.items) ? data.items : [];\n      const normalized = items.map((p) => {\n        const normalizeUrl = (url) =>\n          url && !url.startsWith(\"http\") ? `${API_BASE}${url}` : url;\n        const images = Array.isArray(p.images)\n          ? p.images.map((u) => normalizeUrl(u))\n          : [];\n\n        return {\n          ...p,\n          image: normalizeUrl(p.image),\n          images,\n        };\n      });\n      setProducts(normalized);\n    } catch (err) {\n      console.error(\"Load products error:\", err);\n      setProductError(\"Không thể tải danh sách sản phẩm.\");\n    } finally {\n      setProductLoading(false);\n    }\n  }, [isAdmin, navigate, token]);\n\n  useEffect(() => {\n    if (!token) {\n      navigate(\"/login\");\n      return;\n    }\n\n    if (!isAdmin) {\n      setUnauthorized(true);\n      setLoading(false);\n      return;\n    }\n\n    loadData();\n  }, [isAdmin, loadData, navigate, token]);\n\n  useEffect(() => {\n    if (activeTab === \"products\" && isAdmin) {\n      loadProducts();\n    }\n  }, [activeTab, isAdmin, loadProducts]);\n\n  const handleUpdateStatus = async (blogId, status) => {\n    if (!isAdmin) return;\n\n    setActionKey(`${blogId}-${status}`);\n    setError(\"\");\n    setNotice(\"\");\n\n    try {\n      const res = await fetch(`${API_BASE}/api/blog/${blogId}/status`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ status }),\n      });\n\n      const data = await res.json();\n      if (!res.ok) {\n        throw new Error(data.error || \"Cập nhật thất bại\");\n      }\n\n      setPendingBlogs((prev) => prev.filter((b) => b.id !== blogId));\n      if (status === \"approved\") {\n        setApprovedCount((count) => count + 1);\n        setNotice(\"Đã duyệt bài viết thành công.\");\n      } else if (status === \"rejected\") {\n        setNotice(\"Đã từ chối bài viết.\");\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setActionKey(\"\");\n    }\n  };\n\n  const filteredBlogs = useMemo(() => {\n    const keyword = search.trim().toLowerCase();\n    if (!keyword) return pendingBlogs;\n    return pendingBlogs.filter(\n      (b) =>\n        b.title?.toLowerCase().includes(keyword) ||\n        b.author?.toLowerCase().includes(keyword)\n    );\n  }, [pendingBlogs, search]);\n\n  const renderSkeleton = () => (\n    <div className=\"admin-card skeleton\">\n      <div className=\"skeleton-line wide\"></div>\n      <div className=\"skeleton-line\"></div>\n      <div className=\"skeleton-line short\"></div>\n    </div>\n  );\n\n  const resetProductForm = () => {\n    setProductForm(emptyProduct);\n  };\n\n  const handleProductSubmit = async (e) => {\n    e.preventDefault();\n    if (!isAdmin) return;\n\n    setProductError(\"\");\n    setProductNotice(\"\");\n\n    const { id, name, price, badge, impact, description, tags, imageFiles } =\n      productForm;\n\n    if (!name || !price) {\n      setProductError(\"Vui lòng nhập tên và giá sản phẩm.\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"price\", price);\n    formData.append(\"badge\", badge);\n    formData.append(\"impact\", impact);\n    formData.append(\"description\", description);\n    formData.append(\"tags\", tags);\n    if (imageFiles && imageFiles.length) {\n      imageFiles.forEach((file) => formData.append(\"images\", file));\n    }\n\n    const isEdit = Boolean(id);\n    const url = isEdit\n      ? `${API_BASE}/api/products/${id}`\n      : `${API_BASE}/api/products`;\n    const method = isEdit ? \"PUT\" : \"POST\";\n    setProductAction(isEdit ? `edit-${id}` : \"create\");\n\n    try {\n      const res = await fetch(url, {\n        method,\n        headers: { Authorization: `Bearer ${token}` },\n        body: formData,\n      });\n\n      const data = await parseJSONSafe(res);\n      if (!res.ok) {\n        throw new Error(data.error || \"Thao tác thất bại\");\n      }\n\n      await loadProducts();\n      resetProductForm();\n      setProductNotice(isEdit ? \"Đã cập nhật sản phẩm.\" : \"Đã tạo sản phẩm.\");\n    } catch (err) {\n      setProductError(err.message);\n    } finally {\n      setProductAction(\"\");\n    }\n  };\n\n  const handleProductEdit = (product) => {\n    setProductForm({\n      id: product.id,\n      name: product.name || \"\",\n      price: product.price || \"\",\n      badge: product.badge || \"\",\n      impact: product.impact || \"\",\n      description: product.description || \"\",\n      tags: product.tags || \"\",\n      imageFiles: [],\n    });\n    setProductNotice(\"\");\n    setProductError(\"\");\n  };\n\n  const handleProductDelete = async (id) => {\n    if (!isAdmin) return;\n    setProductAction(`delete-${id}`);\n    setProductError(\"\");\n    setProductNotice(\"\");\n\n    try {\n      const res = await fetch(`${API_BASE}/api/products/${id}`, {\n        method: \"DELETE\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      const data = await parseJSONSafe(res);\n      if (!res.ok) {\n        throw new Error(data.error || \"Xóa thất bại\");\n      }\n      await loadProducts();\n      setProductNotice(\"Đã ẩn sản phẩm.\");\n    } catch (err) {\n      setProductError(err.message);\n    } finally {\n      setProductAction(\"\");\n    }\n  };\n\n  if (unauthorized) {\n    return (\n      <div className=\"admin-page\">\n        <div className=\"admin-empty\">\n          <p>Bạn không có quyền truy cập trang quản trị.</p>\n          <button className=\"admin-btn ghost\" onClick={() => navigate(\"/\")}>\n            Về trang chủ\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"admin-page\">\n      <section className=\"admin-hero\">\n        <div>\n          <p className=\"admin-pill\">Bảng điều khiển</p>\n          <h1>Quản trị nội dung</h1>\n          <p className=\"admin-desc\">\n            Duyệt bài viết từ cộng đồng, theo dõi tiến độ xuất bản và giữ chất\n            lượng nội dung luôn xanh.\n          </p>\n          <div className=\"admin-hero-actions\">\n            <button\n              className=\"admin-btn primary\"\n              onClick={() => navigate(\"/blog/create\")}\n            >\n              + Tạo bài mới\n            </button>\n            <button\n              className=\"admin-btn ghost\"\n              onClick={loadData}\n              disabled={loading}\n            >\n              ⟳ Tải lại\n            </button>\n          </div>\n          <div className=\"admin-tabs\">\n            <button\n              className={`tab-btn ${activeTab === \"blog\" ? \"active\" : \"\"}`}\n              onClick={() => setActiveTab(\"blog\")}\n            >\n              Bài viết\n            </button>\n            <button\n              className={`tab-btn ${activeTab === \"products\" ? \"active\" : \"\"}`}\n              onClick={() => setActiveTab(\"products\")}\n            >\n              Sản phẩm\n            </button>\n          </div>\n        </div>\n\n        <div className=\"admin-hero-metrics\">\n          <div className=\"metric-card\">\n            <p>Chờ duyệt</p>\n            <h3>{pendingBlogs.length}</h3>\n            <span>Bài từ cộng đồng</span>\n          </div>\n          <div className=\"metric-card\">\n            <p>Đã xuất bản</p>\n            <h3>{approvedCount}</h3>\n            <span>Bài hiển thị công khai</span>\n          </div>\n          <div className=\"metric-card\">\n            <p>Quyền</p>\n            <h3>{user.role || \"admin\"}</h3>\n            <span>{user.email}</span>\n          </div>\n        </div>\n      </section>\n\n      {activeTab === \"blog\" && (\n        <section className=\"admin-section\">\n          <div className=\"admin-section-head\">\n            <div>\n              <p className=\"admin-pill muted\">Moderation</p>\n              <h2>Bài viết chờ duyệt</h2>\n              <p className=\"admin-desc muted\">\n                Kiểm tra nhanh tiêu đề, người gửi và cập nhật trạng thái chỉ với\n                một nhấp.\n              </p>\n            </div>\n\n            <div className=\"admin-actions\">\n              <input\n                type=\"text\"\n                placeholder=\"Tìm theo tiêu đề hoặc tác giả...\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n              />\n            </div>\n          </div>\n\n          {error && <div className=\"admin-alert error\">{error}</div>}\n          {notice && <div className=\"admin-alert success\">{notice}</div>}\n\n          {loading ? (\n            <div className=\"admin-grid\">\n              {Array.from({ length: 3 }).map((_, idx) => (\n                <React.Fragment key={idx}>{renderSkeleton()}</React.Fragment>\n              ))}\n            </div>\n          ) : filteredBlogs.length === 0 ? (\n            <div className=\"admin-empty\">\n              <p>Hiện không có bài nào chờ duyệt.</p>\n              <button className=\"admin-btn ghost\" onClick={loadData}>\n                Tải lại\n              </button>\n            </div>\n          ) : (\n            <div className=\"admin-grid\">\n              {filteredBlogs.map((blog) => {\n                const createdAt = blog.createdAt ? new Date(blog.createdAt) : null;\n\n                return (\n                  <div className=\"admin-card\" key={blog.id}>\n                    <div className=\"admin-card-head\">\n                      <div>\n                        <p className=\"admin-meta\">\n                          #{blog.id} • {blog.author || \"Ẩn danh\"}\n                        </p>\n                        <h3>{blog.title}</h3>\n                      </div>\n                      <span className=\"admin-badge\">Chờ duyệt</span>\n                    </div>\n\n                    <p className=\"admin-snippet\">\n                      {(blog.content || \"\").slice(0, 180)}\n                      {(blog.content || \"\").length > 180 ? \"...\" : \"\"}\n                    </p>\n\n                    <div className=\"admin-card-foot\">\n                      <div className=\"admin-meta\">\n                        {createdAt\n                          ? `${createdAt.toLocaleDateString(\n                              \"vi-VN\"\n                            )} • ${createdAt.toLocaleTimeString(\"vi-VN\")}`\n                          : \"Không rõ thời gian\"}\n                      </div>\n                      <div className=\"admin-card-actions\">\n                        <button\n                          className=\"admin-btn ghost\"\n                          onClick={() => handleUpdateStatus(blog.id, \"rejected\")}\n                          disabled={actionKey === `${blog.id}-rejected`}\n                        >\n                          {actionKey === `${blog.id}-rejected`\n                            ? \"Đang từ chối...\"\n                            : \"Từ chối\"}\n                        </button>\n                        <button\n                          className=\"admin-btn primary\"\n                          onClick={() => handleUpdateStatus(blog.id, \"approved\")}\n                          disabled={actionKey === `${blog.id}-approved`}\n                        >\n                          {actionKey === `${blog.id}-approved`\n                            ? \"Đang duyệt...\"\n                            : \"Duyệt bài\"}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </section>\n      )}\n\n      {activeTab === \"products\" && (\n        <section className=\"admin-section\">\n          <div className=\"admin-section-head\">\n            <div>\n              <p className=\"admin-pill muted\">Gian hàng</p>\n              <h2>Quản lý sản phẩm</h2>\n              <p className=\"admin-desc muted\">\n                Thêm mới, chỉnh sửa hoặc ẩn sản phẩm đang bán trong trang Gian\n                hàng xanh.\n              </p>\n            </div>\n            <div className=\"admin-actions\">\n              <button\n                className=\"admin-btn ghost\"\n                onClick={loadProducts}\n                disabled={productLoading}\n              >\n                ⟳ Tải danh sách\n              </button>\n              <button className=\"admin-btn ghost\" onClick={resetProductForm}>\n                + Sản phẩm mới\n              </button>\n            </div>\n          </div>\n\n          {productError && (\n            <div className=\"admin-alert error\">{productError}</div>\n          )}\n          {productNotice && (\n            <div className=\"admin-alert success\">{productNotice}</div>\n          )}\n\n          <div className=\"product-admin-grid\">\n            <div className=\"product-list\">\n              {productLoading ? (\n                <div className=\"admin-empty\">Đang tải sản phẩm...</div>\n              ) : products.length === 0 ? (\n                <div className=\"admin-empty\">\n                  <p>Chưa có sản phẩm nào.</p>\n                </div>\n              ) : (\n                products.map((p) => (\n                  <div className=\"product-card-admin\" key={p.id}>\n                  <div className=\"product-card-head\">\n                    <div>\n                      <p className=\"admin-meta\">#{p.id}</p>\n                      <h3>{p.name}</h3>\n                      <p className=\"admin-snippet\">{p.description}</p>\n                    </div>\n                      {p.image && (\n                        <img\n                          src={p.image}\n                          alt={p.name}\n                          className=\"product-thumb-admin\"\n                        />\n                      )}\n                  </div>\n                  <div className=\"product-meta-row\">\n                    <span className=\"pill\">{p.badge}</span>\n                    <span className=\"pill strong\">{p.impact}</span>\n                    <span className=\"price\">{p.price} đ</span>\n                    </div>\n                    <div className=\"admin-card-actions\">\n                      <button\n                        className=\"admin-btn ghost\"\n                        onClick={() => handleProductEdit(p)}\n                      >\n                        Sửa\n                      </button>\n                      <button\n                        className=\"admin-btn primary\"\n                        onClick={() => handleProductDelete(p.id)}\n                        disabled={productAction === `delete-${p.id}`}\n                      >\n                        {productAction === `delete-${p.id}`\n                          ? \"Đang ẩn...\"\n                          : \"Ẩn sản phẩm\"}\n                      </button>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n\n            <div className=\"product-form-card\">\n              <h3>{productForm.id ? \"Sửa sản phẩm\" : \"Thêm sản phẩm mới\"}</h3>\n              <form className=\"product-form\" onSubmit={handleProductSubmit}>\n                <label>\n                  Tên sản phẩm\n                  <input\n                    type=\"text\"\n                    value={productForm.name}\n                    onChange={(e) =>\n                      setProductForm((prev) => ({\n                        ...prev,\n                        name: e.target.value,\n                      }))\n                    }\n                    required\n                  />\n                </label>\n                <label>\n                  Giá (đ)\n                  <input\n                    type=\"number\"\n                    value={productForm.price}\n                    onChange={(e) =>\n                      setProductForm((prev) => ({\n                        ...prev,\n                        price: e.target.value,\n                      }))\n                    }\n                    required\n                  />\n                </label>\n                <label>\n                  Badge / Chất liệu\n                  <input\n                    type=\"text\"\n                    value={productForm.badge}\n                    onChange={(e) =>\n                      setProductForm((prev) => ({\n                        ...prev,\n                        badge: e.target.value,\n                      }))\n                    }\n                  />\n                </label>\n                <label>\n                  Tác động môi trường\n                  <input\n                    type=\"text\"\n                    value={productForm.impact}\n                    onChange={(e) =>\n                      setProductForm((prev) => ({\n                        ...prev,\n                        impact: e.target.value,\n                      }))\n                    }\n                  />\n                </label>\n                <label>\n                  Mô tả\n                  <textarea\n                    rows=\"3\"\n                    value={productForm.description}\n                    onChange={(e) =>\n                      setProductForm((prev) => ({\n                        ...prev,\n                        description: e.target.value,\n                      }))\n                    }\n                  />\n                </label>\n                <label>\n                  Tags (phân tách bằng dấu phẩy)\n                  <input\n                    type=\"text\"\n                    value={productForm.tags}\n                    onChange={(e) =>\n                      setProductForm((prev) => ({\n                        ...prev,\n                        tags: e.target.value,\n                      }))\n                    }\n                    placeholder=\"reuse, home, eco\"\n                  />\n                </label>\n                <label>\n                  Ảnh sản phẩm\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    multiple\n                    onChange={(e) =>\n                      setProductForm((prev) => ({\n                        ...prev,\n                        imageFiles: e.target.files ? Array.from(e.target.files) : [],\n                      }))\n                    }\n                  />\n                </label>\n\n                <div className=\"admin-card-actions form-actions\">\n                  <button\n                    type=\"button\"\n                    className=\"admin-btn ghost\"\n                    onClick={resetProductForm}\n                  >\n                    Làm mới\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"admin-btn primary\"\n                    disabled={\n                      productAction === \"create\" ||\n                      productAction === `edit-${productForm.id}`\n                    }\n                  >\n                    {productAction\n                      ? \"Đang lưu...\"\n                      : productForm.id\n                      ? \"Cập nhật\"\n                      : \"Thêm mới\"}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </section>\n      )}\n    </div>\n  );\n}\n\nexport default Admin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}